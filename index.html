<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link href="favicon.ico" rel="icon" type="image/x-icon"/>
	<link href="style.css" rel="stylesheet" type="text/css">
	<link href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined" rel="stylesheet"/>
	<title>Yiffy Bayes</title>
	<script defer src="script.js"></script>
</head>
<body>
	<header>
		<div>
			<input type="text" placeholder="Search tags (type ? after a tag to suggest matching tags)" id="query">
			<button onclick="search()" id="src-btn"><span class="material-symbols-outlined">search</span></button>
			<ul id="autocomplete"></ul>
		</div>
		<div>
			<div>
				<i class="material-symbols-outlined">filter_alt</i>
				<select id="filter" onchange="reEval()">Filter
					<option value="all">All</option>
					<option value="unseen">Unseen</option>
					<option value="seen">Seen</option>
				</select>
			</div>
			<div>
				<i class="material-symbols-outlined">sort</i>
				<select id="sort" onchange="reEval()">
					<option value="comb">Combined</option>
					<option value="4">Fav+Like</option>
					<option value="3">Fav</option>
					<option value="2">Like</option>
					<option value="1">None</option>
					<option value="0">Dislike</option>
					<option value="score">Score</option>
					<option value="favs">Favourites</option>
					<option value="id">ID</option>
				</select>
			</div>
			<div>
				<button onclick="reEval(true)" title="Re-Evaluate Model and Posts."><i class="material-symbols-outlined">refresh</i></button>
				<button title="Reverse Order">
					<label for="reverse">
						<input onclick="reEval()" type="checkbox" id="reverse">
						<i class="material-symbols-outlined">low_priority</i>
					</label>
				</button>
			</div>
			<button id="state">
				<label title="idle">
					<i class="material-symbols-outlined">pending</i>
				</label>
			</button>
		</div>
		<div style="justify-content: right;">
			<button title="Upload custom preprocessed data.&#10;Warning! Only use if you know what you're doing!" onclick="upload.click()">
				<label for="input">
					<input id="upload" type="file" accept=".json">
					<i class="material-symbols-outlined">upload_file</i>
				</label>
			</button>
			<button onclick="downloadData()" title="Download your data as JSON." onclick="downloadData()"><i class="material-symbols-outlined">file_save</i></button>
			<button onclick="storeData()" title="Manually save data"><i class="material-symbols-outlined">save</i></button>
			<button onclick="logout()" title="Logout"><i class="material-symbols-outlined">logout</i></button>
		</div>
	</header>
	
	<main>
		<div class="pagination">
			<button class="prev" onclick="prevPage()">Prev</button>
			<div class="page-numbers"></div>
			<button class="next" onclick="nextPage()">Next</button>
		</div>
		<div id="img-grid"></div>
		<div class="pagination">
			<button class="prev" onclick="prevPage()">Prev</button>
			<div class="page-numbers"></div>
			<button class="next" onclick="nextPage()">Next</button>
		</div>
		<div id="viewing-page">
			<div id="image-container">
				<button class="big-nav" id="prev" onclick="prevPost()" title="Previous Post"><i class="material-symbols-outlined">chevron_left</i></button>
				<img src="" alt="Nothing here..." id="big-view">
				<button class="big-nav" id="next" onclick="nextPost()" title="Next Post"><i class="material-symbols-outlined">chevron_right</i></button>
			</div>
			<div id="stats">
				<div>
					<span id="score">0</span>
					<span id="favs">0</span>
					<span id="p_dl">0</span>
					<span id="p_nn">0</span>
					<span id="p_lk">0</span>
					<span id="p_fv">0</span>
					<span id="p_fl">0</span>
					<span id="comb">0</span>
				</div>
			</div>
			<div id="interaction-buttons">
				<button id="fav" title="Favourite Post" onclick="reactToPost(event)"><i class="material-symbols-outlined">favorite</i></button>
				<button id="like" title="Like Post" onclick="reactToPost(event)"><i class="material-symbols-outlined">arrow_upward_alt</i></button>
				<button id="dislike" title="Dislike Post" onclick="reactToPost(event)"><i class="material-symbols-outlined">arrow_downward_alt</i></button>
			</div>
			<a id="back" href="#src-btn">Back to Gallery</a>
			<a id="ori" href="#" target="_blank" rel="noopener noreferrer">See on e621</a>
		</div>
	</main>
	
	<footer>
		<ul>Contact:
			<li><a href="https://github.com/Karuljonnai" target="_blank" rel="noopener noreferrer">GitHub</a></li>
		</ul>
	</footer>
	
	<img src="" id="prefetch">
</body>
</html>